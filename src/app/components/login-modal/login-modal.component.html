<a *ngIf="!loggedIn" class="nav-link" data-toggle="modal" data-target="#login-modal">
  Login
</a>
<a *ngIf="loggedIn" class="nav-link dropdown-toggle" href="#"
   id="navbar-dropdown" role="button" data-toggle="dropdown"
   aria-haspopup="true" aria-expanded="false">
  <i class="fas fa-user-circle"></i> {{model.username}}
</a>
<div *ngIf="loggedIn" class="dropdown-menu dropdown-menu-right" aria-labelledby="navbar-dropdown">
  <app-last-login
    class="dropdown-item"
    [username]="model.username"
    #lastLogin>
  </app-last-login>
  <div class="dropdown-divider"></div>
  <a class="dropdown-item" (click)="logOut()">
    <i class="fas fa-sign-out-alt"></i>
    Log Out
  </a>
</div>

<div *ngIf="!loggedIn" id="login-modal" class="modal fade" tabindex="-1" role="dialog">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Login</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>

      <div class="modal-body">
        <form (ngSubmit)="onSubmit($event)" #loginForm="ngForm">
          <div class="form-group">
            <input type="email" class="form-control"
                   id="login-username" name="username"
                   placeholder="Enter username"
                   [(ngModel)]="model.username"
                   required>
          </div>
          <div class="form-group">
            <input type="password" class="form-control"
                   id="login-password" name="password"
                   placeholder="Password"
                   [(ngModel)]="model.password"
                   required>
          </div>
          <button type="submit" class="btn btn-primary">Submit</button>
        </form>
      </div>

      <div class="modal-footer">
        <a class="text-primary" data-toggle="modal" data-target="#signup-modal"
           data-dismiss="modal">Don't have an account? Sign up here!</a>
      </div>
    </div>
  </div>
</div>

<app-signup-modal *ngIf="!loggedIn"
                  (onSignUpSuccess)="onSignUpSuccess($event)">
</app-signup-modal>
